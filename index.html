<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shooting Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            height: 100%;
            width: 100%;
            background: #000;
            overflow: hidden;
        }

        #gameContainer {
            position: relative;
            width: 100%;
            height: 100%;
        }

        #gameBackground {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #crosshair {
            position: absolute;
            width: 30px;
            height: 30px;
            pointer-events: none;
            z-index: 10;
        }

        #score, #timer {
            position: absolute;
            font-size: 20px;
            color: white;
            z-index: 20;
        }

        #score {
            top: 10px;
            left: 10px;
        }

        #timer {
            top: 10px;
            right: 10px;
        }

        #settingsDialog {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            display: none;
            z-index: 30;
            text-align: center;
        }

        #settingsDialog input, #settingsDialog button {
            margin-top: 10px;
            padding: 10px;
        }
    </style>
</head>
<body>
    <!-- Game Container -->
    <div id="gameContainer">
        <!-- Background Video -->
        <video id="gameBackground" autoplay loop muted>
            <source src="https://videocdn.cdnpk.net/videos/4ef50a66-8e72-5444-90ea-97f432d94e59/horizontal/previews/watermarked/small.mp4" type="video/mp4">
        </video>

        <!-- Crosshair -->
        <img id="crosshair" src="https://img.icons8.com/?size=50&id=2644&format=png" alt="Crosshair">

        <!-- Score Display -->
        <div id="score">Score: 0</div>

        <!-- Timer Display -->
        <div id="timer">Time: 60</div>
    </div>

    <!-- Settings Dialog (optional) -->
    <div id="settingsDialog">
        <label for="gameTime">Game Time (seconds):</label>
        <input type="number" id="gameTime" min="30" max="100" value="60">
        <button id="startGame">Start Game</button>
    </div>

    <script>
        // Game variables
        let gameTime = 60; // Default game time
        let score = 0;
        let timerInterval;
        let gameInterval;
        let targets = [];
        let gameStarted = false;

        // DOM Elements
        const crosshair = document.getElementById('crosshair');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const settingsDialog = document.getElementById('settingsDialog');
        const startGameButton = document.getElementById('startGame');
        const gameTimeInput = document.getElementById('gameTime');

        // Update crosshair position
        function updateCrosshairPosition(event) {
            const mouseX = event.clientX;
            const mouseY = event.clientY;

            crosshair.style.left = `${mouseX - 15}px`; // Center the crosshair
            crosshair.style.top = `${mouseY - 15}px`;
        }

        // Target object
        class Target {
            constructor() {
                this.size = Math.random() * 50 + 20; // Random size between 20 and 70px
                this.x = Math.random() * window.innerWidth;
                this.y = Math.random() * window.innerHeight;
                this.element = document.createElement('div');
                this.element.classList.add('target');
                this.element.style.width = `${this.size}px`;
                this.element.style.height = `${this.size}px`;
                this.element.style.backgroundColor = 'red';
                this.element.style.position = 'absolute';
                this.element.style.borderRadius = '50%';
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;

                document.body.appendChild(this.element);
            }

            hit() {
                this.element.remove();
            }
        }

        // Create a random target
        function createTarget() {
            const target = new Target();
            targets.push(target);
        }

        // Check if the crosshair overlaps with a target
        function checkHit() {
            targets.forEach(target => {
                const targetRect = target.element.getBoundingClientRect();
                const crosshairRect = crosshair.getBoundingClientRect();

                // Simple collision detection
                if (crosshairRect.left < targetRect.right && crosshairRect.right > targetRect.left &&
                    crosshairRect.top < targetRect.bottom && crosshairRect.bottom > targetRect.top) {
                    target.hit();
                    score++;
                    scoreDisplay.textContent = `Score: ${score}`;
                }
            });
        }

        // Start game
        function startGame() {
            gameStarted = true;
            score = 0;
            gameTime = parseInt(gameTimeInput.value) || 60;
            scoreDisplay.textContent = `Score: ${score}`;
            timerDisplay.textContent = `Time: ${gameTime}`;
            settingsDialog.style.display = 'none';

            // Start the timer
            timerInterval = setInterval(() => {
                if (gameTime > 0) {
                    gameTime--;
                    timerDisplay.textContent = `Time: ${gameTime}`;
                } else {
                    clearInterval(timerInterval);
                    clearInterval(gameInterval);
                    alert(`Game Over! Final Score: ${score}`);
                }
            }, 1000);

            // Game loop to create targets
            gameInterval = setInterval(() => {
                createTarget();
            }, 1000);

            // Set the interval to check for hits
            setInterval(checkHit, 50);
        }

        // Start button event
        startGameButton.addEventListener('click', startGame);

        // Mouse and touch events for moving the crosshair
        document.addEventListener('mousemove', updateCrosshairPosition);
        document.addEventListener('touchmove', (event) => {
            updateCrosshairPosition(event.touches[0]);
        });

        // Show settings dialog initially
        settingsDialog.style.display = 'block';
    </script>
</body>
</html>
