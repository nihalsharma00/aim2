<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aim Practice Game</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html { width: 100%; height: 100%; overflow: hidden; font-family: Arial, sans-serif; }
    
    /* Fixed background video */
    video.bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -2;
    }
    
    #crosshair {
      position: fixed;
      width: 30px;
      height: 30px;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 1000;
    }
    
    .game-container {
      position: relative;
      width: 100%;
      height: 100%;
      cursor: none;
    }
    
    .target {
      position: absolute;
      width: 50px;
      height: 50px;
      background: red;
      border-radius: 50%;
      box-shadow: 0 0 10px white;
    }
    
    .hud {
      position: fixed;
      top: 10px;
      left: 10px;
      color: white;
      font-size: 20px;
      z-index: 999;
    }
    
    .settings {
      position: fixed;
      top: 10px;
      right: 10px;
      color: white;
      background: rgba(0,0,0,0.6);
      padding: 10px;
      border-radius: 10px;
      z-index: 999;
    }
    
    .settings select, .settings input, .settings button {
      margin: 5px 0;
      padding: 5px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <!-- Background Video -->
  <video class="bg" autoplay muted loop>
    <source src="https://cdn.coverr.co/videos/coverr-guns-ammo-and-bullets-5850/1080p.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <img id="crosshair" src="https://upload.wikimedia.org/wikipedia/commons/3/3f/Red_dot_sight_reticle.png" />

  <div class="game-container" id="play-area"></div>

  <div class="hud">
    <div id="score">Score: 0</div>
    <div id="timer">Time: 0</div>
  </div>

  <div class="settings">
    <label for="time-input">Practice Time (30â€“100 sec):</label>
    <input type="number" id="time-input" min="30" max="100" placeholder="e.g. 60"/><br/>

    <label for="gun-type">Gun Type:</label>
    <select id="gun-type">
      <option value="">Select Type</option>
      <option value="shotgun">Shotgun</option>
      <option value="smg">SMG</option>
      <option value="sniper">Sniper</option>
      <option value="assault">Assault Rifle</option>
    </select>

    <label for="gun-model">Gun:</label>
    <select id="gun-model" disabled>
      <option value="">Select Gun</option>
    </select><br/>

    <button id="start-btn">Start Game</button>
  </div>

  <script>
    const playArea = document.getElementById('play-area');
    const crosshair = document.getElementById('crosshair');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    const startBtn = document.getElementById('start-btn');
    const timeInput = document.getElementById('time-input');
    const gunTypeSelect = document.getElementById('gun-type');
    const gunModelSelect = document.getElementById('gun-model');

    let score = 0;
    let timeLeft = 0;
    let gameInterval;
    let target;
    let targetSize = 50;
    let currentGun = "";

    const gunModels = {
      shotgun: ["SG-04 Shotgun", "870 Pump-Action Shotgun", "Winchester 1887", "Boneduster"],
      smg: ["Uzi", "Thompson SMG", "Vector"],
      sniper: ["Kar98k", "Mosin Nagant", "M24", "AWM"],
      assault: ["M4-16", "AK-47", "Aug", "DB"]
    };

    function updateGunModels() {
      gunModelSelect.innerHTML = `<option value="">Select Gun</option>`;
      if (gunTypeSelect.value) {
        gunModels[gunTypeSelect.value].forEach(model => {
          gunModelSelect.innerHTML += `<option value="${model}">${model}</option>`;
        });
        gunModelSelect.disabled = false;
      } else {
        gunModelSelect.disabled = true;
      }
    }

    function createTarget() {
      if (target) target.remove();

      target = document.createElement('div');
      target.classList.add('target');

      const maxLeft = playArea.clientWidth - targetSize;
      const maxTop = playArea.clientHeight - targetSize;

      const x = Math.random() * maxLeft;
      const y = Math.random() * maxTop;

      target.style.left = `${x}px`;
      target.style.top = `${y}px`;
      target.style.width = `${targetSize}px`;
      target.style.height = `${targetSize}px`;

      playArea.appendChild(target);
    }

    function updateScore() {
      score++;
      scoreEl.textContent = `Score: ${score}`;
      if (score % 5 === 0 && targetSize > 20) targetSize -= 5;
      createTarget();
    }

    function shoot() {
      if (!target) return;

      const crossRect = crosshair.getBoundingClientRect();
      const targetRect = target.getBoundingClientRect();

      const hit =
        crossRect.left < targetRect.right &&
        crossRect.right > targetRect.left &&
        crossRect.top < targetRect.bottom &&
        crossRect.bottom > targetRect.top;

      if (hit) updateScore();
    }

    function startGame() {
      const inputTime = parseInt(timeInput.value);
      if (isNaN(inputTime) || inputTime < 30 || inputTime > 100) {
        alert("Please enter a valid time between 30 and 100 seconds.");
        return;
      }

      score = 0;
      timeLeft = inputTime;
      targetSize = 50;
      scoreEl.textContent = `Score: ${score}`;
      timerEl.textContent = `Time: ${timeLeft}`;
      playArea.innerHTML = '';
      createTarget();

      gameInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `Time: ${timeLeft}`;
        if (timeLeft <= 0) {
          clearInterval(gameInterval);
          if (target) target.remove();
          alert(`Time's up! Final Score: ${score}`);
        }
      }, 1000);
    }

    document.addEventListener('mousemove', (e) => {
      crosshair.style.left = `${e.clientX}px`;
      crosshair.style.top = `${e.clientY}px`;
    });

    document.addEventListener('touchmove', (e) => {
      const touch = e.touches[0];
      crosshair.style.left = `${touch.clientX}px`;
      crosshair.style.top = `${touch.clientY}px`;
    });

    document.addEventListener('click', shoot);
    document.addEventListener('touchstart', shoot);
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space') shoot();
    });

    startBtn.addEventListener('click', startGame);
    gunTypeSelect.addEventListener('change', updateGunModels);
  </script>
</body>
</html>
